services:
  openclaw:
    build: .
    container_name: openclaw
    restart: unless-stopped
    env_file:
      - .env
    ports:
      - "127.0.0.1:18789:18789"  # Loopback only â€” never expose to 0.0.0.0
    volumes:
      - openclaw-data:/home/openclaw/.openclaw
      - openclaw-workspace:/home/openclaw/workspace
      - openclaw-logs:/home/openclaw/logs
    networks:
      - openclaw-net
    security_opt:
      - no-new-privileges:true
    read_only: false
    tmpfs:
      - /tmp:size=512M

networks:
  openclaw-net:
    driver: bridge
    internal: false  # Set to true for full network isolation (no internet)

volumes:
  openclaw-data:
  openclaw-workspace:
  openclaw-logs:
